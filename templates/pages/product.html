{% extends 'base.html' %} 

{% block head %}
  <title>{{product.title}}</title>
{% endblock %}


{% block content %}
  {% if product %}
    <div class="bg-blue-600 p-2 grid place-content-center">
      <a href="/" class="text-center text-white font-bold">Back</a>
    </div>

    <div class="border max-x-4xl mx-auto p-4 md:px-8">
      <div class="grid gap-8 md:grid-cols-2">
        <!-- image - start -->
        <div class="space-y-4 flex items-center">
          <img
              id="main-image"
              src="/static/media/{{product.image}}"
              loading="lazy"
              alt="{{product.name}}"
              class="w-6/12 md:h-6/12 max-w-[50vh] scale-105 mx-auto md:w-full object-cover object-center"
            />
        </div>
        <!-- image - end -->

        <!-- content right - start -->
        <div class="flex flex-col justify-center">
          <!-- name - start -->
          <div class="mb-2 md:mb-3">
          <span class="mb-0.5 inline-block text-gray-500">{{product.category}}</span>
          <h2 class="text-2xl font-bold text-gray-800 lg:text-3xl capitalize">{{product.name}}</h2>
          </div>
          <!-- name - end -->

          <!-- price - start -->
          <div class="mb-4">
          <div class="flex items-end gap-2">
              <span class="text-xl font-bold text-gray-800 md:text-2xl">${{product.price}}</span>
              <span class="mb-0.5 text-red-500 line-through">${{product.prev_price}}</span>
          </div>

          <span class="text-sm text-gray-500">incl. VAT plus shipping</span>
          </div>
          <!-- price - end -->

          <!-- shipping notice - start -->
          <div class="flex items-center gap-2 text-gray-500">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
          </svg>

          <span class="text-sm">2-4 day shipping</span>
          </div>
          <!-- shipping notice - end -->

          <!-- buttons - start -->
          <div class="z-50 md:w-6/12 fixed bottom-0 right-0 left-0 p-2 gap-4 md:static gap-2.5">
            <!-- <input name="quantity" value="1"  class="block border p-2 rounded-md w-4/12" type="number" /> -->
            {% comment %} <button data-id='{{product.id}}'  id='add-cart-btn' class="w-[50%] flex-grow rounded-lg bg-indigo-500 px-8 py-3 text-center text-sm font-semibold text-white outline-none ring-indigo-300 transition duration-100 hover:bg-indigo-600 focus-visible:ring active:bg-indigo-700 sm:flex-none md:text-base">Add to cart</button> {% endcomment %}
            {% include 'partials/store/buynow.html' with options=product.options.all %}

          </div>
          <!-- buttons - end -->
        </div>
          <!-- content  right - end -->
      </div>
    </div>
    
    {% comment %} Description {% endcomment %}
    <section class="my-4 max-x-4xl mx-auto px-4 md:px-8">
      <h2 class="mb-3 text-lg font-semibold text-gray-800">Description</h2>
      <p class="text-gray-500">
        {{product.description}}
      </p>
    </section>

    {% comment %} Related Products {% endcomment %}
    <div class="mb-20">
      {% include 'partials/store/products.html' with products=related_products title="Related Products" %}
    </div>

  {% else %}
    <p>No product found</p>
  {% endif %}
  

  <script src="/static/js/buynow.js"></script>

{% endblock %}
